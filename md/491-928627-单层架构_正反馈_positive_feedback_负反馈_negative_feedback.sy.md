---
show: step
version: 1.0
enable_checker: true
---

# 单层架构

## 我们来回顾一下 😌
- 上次了解了	
	- 什么是后端
	- 什么又是前端？🤔
- 前端
	- 就是浏览器
	- 负责发送请求(requests)
	- 负责接收响应(response)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651720659939)

- 后端
	- 就是服务器
	- 负责接收请求(requests)
	- 负责发送响应(response)
- 可是为什么
	- 要分出前后端呢？🤔

### 单层架构(1-tier architecture)

- 如果 服务器和客户端 都在一起
	- 自己发请求
	- 自己接收响应
- 总共就一层 
	- 都在一起

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651720737181)

- 比如
	- 查询本地硬盘上的数据库
	- 访问本地的服务器
	- 玩单机游戏
- 但是很多的服务往往不在本地

### Client-Server

- 多个客户端 
	- 都要访问 同一个服务器
	- 比如说 moba类的5v5

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651720923734)

- 比如 要做
	- 这个 保湿的工作

### 单层

- 如果 通过一个湿度传感器
	- 控制 一个水泵

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651726933702)

- 这个逻辑很简单
	- 是最简单的负反馈

### 负反馈

- negative feedback
	- 离着火近了 就烧伤
	- 离着火远了 就寒冷

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220509-1652103539956)

- 这是我们
	- 进行 具体 调整的本能
	- 负反馈
	- 符合天道
- 天之道
	- 损有余而补不足
- 和 负反馈 相对的是
	- 正反馈

### 正反馈

- positive feedback

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230429-1682765199746)

- 马太效应
	- 凡有的 还要加倍给他 叫他多余
	- 没有的 连他所有的也要夺过来

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230429-1682765397331)

- 火的会更火
	- 无人关注会更无人关注
- 人之道
	- 损不足以奉有余
	- 这就是正反馈
- 与负反馈相对

### 负反馈 

- 咸了就喝水 淡了就加盐
- 饿了就吃 饱了就不吃

- 面多了 加水 
- 水多了 加面 

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220519-1652929640983)

- 这个才比较长久
	- 总是处于平衡位置
	- 不容易失控
- 但是机器 不会这个

### 控制器

- 蒸汽机 
	- 如果压力过大
		- 蒸汽锅炉就会爆炸
	- 如果压力过小
		- 又无法驱动设备
- 必须要 一个合适的压力范围
	- 驱动用功单位 
		- 以合适的速度运行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220509-1652104456706)

- 注意那两个小球
- 叫做离心调速器(Centrifugal Governors)
	- [ˌsentrɪˈfjuːɡl] 离心的
	- Governors 平衡控制器
	- centrifugal feedback valve(离心反馈阀门)
- 是蒸汽机的主神经中枢
- 如果速度过快
	- 小球向上推动 就会打开阀门 放气
	- 使得速度 降下来
	- 速度慢下来之后
- 阀门关闭
	- 小球向下关闭阀门
	- 使得速度提升

### 动态均衡

- 控制论
	- Cybernetics是很伟大的
- 控制论 讲了个根本的事情
	- 佛家的空
	- 道家的无、阴阳之道
	- 儒家的中庸
	- 博弈论中的纳什均衡

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220509-1652105562023)

- 历史的车轮 滚滚向前
	- 蒸汽机车脑门上 都带一个铃铛

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653192198889)

- 机械时代 过渡到 电器时代
	- 也一样 需要governor

### 蒸汽朋克与蒸汽波

- 曾经先进的科技

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653192219867)

- 如今看却有点复古

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653204765870)

- 反倒成为
	- 向往的所在

### 总结

- 最初的计算都在一个机器上进行
	- 自身对于自身进行反馈
	- 反馈分成两种
		- 正反馈(容易失控)
		- 负反馈(稳定在平衡位置)
- 下面这个就是1-tier架构
	- 纯纯的模拟电路

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651726915855)

- 如果规模化之后	
	- 一般都要控制很多传感器和水泵
	- 又要怎么办呢？🤔
- 下次再说👋🏻