---
show: step
version: 1.0
enable_checker: true
---

# 变量名下划线

## 回忆上次内容

- 上次直接从模块中导入变量、函数
	- from my_file import pi
		- 导入my_file.pi 
		- 并作为 pi 使用
	- from my_file import pi as my_pi
		- 导入变量 并 重命名

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20231122-1700658086770)

- 突发奇想～
	- 这个import
	- 可以作为 `变量名`来使用吗？？🤔

### 尝试

- 可以将 import当 变量名吗？
- 先看看 import 
	- 是否是  合法标识符
	- isidentifier

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230511-1683780899494)

- isidentifier函数 
	- 有不灵的 时候吗？
- 这怎么理解呢？？🤔

### 翻看文档

- import 属于关键字

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230511-1683781094482)

- 关键字	
	- 就有有特殊功能的字符串
	- 都是 不能作为 标识符 的
- 类似的还有True

### True

- 从标识符命名规则来说
	- 字符串"True"`符合`命名规则

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683897556438)

- 但是True 
	- 有特殊含义
	- 不能被 声明 为变量
	- 属于`关键字`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683897663480)

- 如果只有一个下划线
	- 也是一个变量吗？

### 上次的值

- 在游乐场里
	- _下划线 意味着上次的值

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683898493779)

- 如果是下划线开头的变量呢？

### 下划线的含义

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683897803501)

- 所以 _a 可以作为
	- 模块内部的变量或者函数
	- from module import * 时 
	- 不被引用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676466769187)

- 如何理解内部呢？

### 理解内部

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683897947284)

- 在random模块中有很多变量和函数
	- 有下划线 算是内部的
	- 没有下划线 不算是内部的
- from random import *
	- *代表所有的外部变量和函数 

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683898180552)

- 导入进来的
	- 都是没有下划线的
	- 也就是说内部的没有导入进来
- 如果就想要导入内部的变量呢？

### 变量

- 点名 导入
	- 带下划线的 隐藏变量
	- 就可以了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683898338793)

- 如果在 变量名 后面
	- 加 下划线 
	- 又是什么 意思 呢？

### 后面的下划线

- 在后面 加上下划线
	- 一般是为了 
	- 区分已经有的`标识符`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230613-1686656442669)

- 上图的赋值
	- 会对 函数名max 强行赋值
	- 从此 max函数 就失效了

- 班里面 有个张伟
	- 新来一个 就不能 还叫张伟
	- 只能叫 大张伟 或者 小张伟

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467043077)

- 如果使用max 作为变量名
	- 会把max函数 屏蔽掉
- 使用max_
	- 不会屏蔽 max函数

### 两端双下划线(dunder)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467102637)

- 系统定义的标识符
	- 模块名
	- 函数名
	- 变量名

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230215-1676467334939)

- dunder变量都是系统内部的
	- 不要轻易破坏

- 再回头
	- 来看看 a 这个变量 的 
	- 声明 和 赋值

### 细节

- `a` 两边并不加引号
  - 因为 这里的 `a` 是 变量标识符
  - 而不是 字符串
	  - 如果加了双引号 就是字符串了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683898843406)

- 在等号两端 都保留 有一个空格
  - 可是 为什么要 加空格呢？

### 可读性

- 增加文档的可读性
  - 这`不会` 影响程序的执行速度

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1628995013547)

- 这两句话从何说起

### 加空格的原因

- 这两句话也来自于
	- python之禅
	- The Zen of Python

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221029-1667036051528)

- 现在 到底 
	- 有`多少`变量呢？

### locals()

- 查询 本地变量
	- 用 内置函数 locals

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230613-1686656693528)

- 可以查询
	- 关于 locals 的帮助

### local函数

- locals()
	- 返回的 是 
	- 包含 当前域中 所有变量的
	- 字典

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1629012206686)

- 声明和赋值 都使用等号
	- 声明并赋值 变量a 之后
	- 变量a 在内存里真的有位置了么？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230613-1686656737313)

- 变量a的位置	
	- 到底 在哪儿 呢？

### 具体位置

- id函数
	- 可以 得到 
	- 变量的 位置

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230512-1683899044940)

- id函数 
	- 是什么意思？
- help(id)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210815-1628995236339)

- id返回 对象obj的 标识符
	- obj 确实在内存中 有了位置
- 但是 如果 
	- 我们 新给变量 赋个值
	- 那么 存储变量的 位置
	- 还是 最初赋给变量的 
	- 内存地址 么？

### 实践

- 虽然 a这个变量名 没有变
	- 但是 id(a)变了
	- a所指向的 地址空间 变了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220724-1658632914887)

- 也就是说 
	- a容器中 存的 地址引用变了
	- a所指向的 变量
	- 在内存中的 地址引用 变了
- 两次赋值 
	- 都是将 变量地址存储到
		- a这个 变量名里面	
	- 第二次赋值 和 第一次赋值
		- 有 `什么`区别吗？

### 变量的 声明和赋值 

- 第一次赋值时
	- 声明和赋值 是 `同时`完成的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220208-1644304396432)

- `第二次`赋值 呢？

### 纯赋值

- 声明了之后
	- 又有 等号赋值 
	- 就是 第二次赋值

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220208-1644304691797)

- 第二次赋值
	- 是 纯赋值 
	- 并没有 声明 新变量

## 总结

- 这次 了解了关键字
	- keyword.kwlist
- 关于 下划线

|位置和数量|作用|
|---|---|
|一个放前面 | 隐藏变量 |
|一个放后面 | 避免名字冲突 |
| 两个放两边 | 系统变量 |

- 如何查询 已有的各种变量？
  - locals
- 如何查询 某变量所指向的地址？
	- id
- 如果 用一个变量a的值
	- 给另一个变量b 赋值
	- 这又是个 `怎样`的过程 呢？？🤔
- 我们下次再说！👋
