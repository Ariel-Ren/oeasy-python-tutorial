---
show: step
version: 1.0
enable_checker: true
---

# 注释Comment

## 回忆上次内容

- 使用了版本控制 git
  - 制作备份
  - 进行回滚
- 尝试了嵌套的控制结构
  - 层层控制
  - 不过非到不得以
  - 尽量不要太多层次的嵌套
  - 虽然这样从顶到底
  - 含义明确
- 但是扁平难道就不能含义明确么？
- 我可以做点什么，让程序更加明确呢？🤔

## 注释

- 其实我们见过注释

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220214-1644827383342)

- 注释
	- 颜色和其他语句不一样
	- 不会被python3解释执行
	- 开头是一个#
- 凡是#开头的行
	- 都不会被执行
	- 都是注释语句

### 行中注释

- 除了行首的注释之外
- 行中是否可以有注释呢？
- 试试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220214-1644827636010)

- `#号` 后面的变颜色的部分
- 就是注释了
- 如果注释在字符串里面呢？

### 尝试一下

```python
print("hi # there")
```

- 在字符串中的 #Pound
- 可以试试
- 结论是
	- 不会被当做注释
- 注释还有什么用处呢？

### 判别编码格式

- 编写的py文件都是二进制的文
	- 如果不进行编码格式说明的话
	- 我怎么知道应该用什么编码格式打开呢？
	- 一个test.py究竟应该用gb2312打开还是utf-8的方式打开
	- 这是一个很现实的问题！
- 这个问题在 pep263 中的规定的
  - https://www.python.org/dev/peps/pep-0263/

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629090337959)

- 前面三种都是可以接受的解码方式定义
- 第四种是关于解码方式的正则表达式
	- `^[ \t\f]*#.*?coding[:=][ \t]*([-_.a-zA-Z0-9]+)`
	- https://regexper.com/?#%5E%5B%20%5Ct%5Cf%5D*%23.*coding%5B%3A%3D%5D%5B%20%5Ct%5D*%28%5B-_.a-zA-Z0-9%5D%2B%29
	- 上面三种写法都可以匹配这个正则表达式
- 这正则表达式应该如何理解？

### 正则表达

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220214-1644838980151)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220215-1644931966041)

- `^[ \t\f]*#.*coding[:=][ \t]*[-_.a-zA-Z0-9]\+`
	- 可以匹配到第二行
	- `^` 行开头
	- `[ \t\f]*` 前面可以有空格、tab或者换页符若干个
	- `#` 有个# 在python语言中可以理解为本行为注释行
	- `.*?` 后面接着任意长度的任意字符
	- `coding[:=]` 存在`code:` 或者 `code=`
	- `[ \t]*` 有0到任意多个空格或tab
	- `[-_.a-zA-Z0-9]\+` 由中划线、下划线、点、大写小写数字若干组成的标识符
- `^[\t\v]_#._?coding[:=][\t]\*([-_.a-zA-Z0-9]+)`
	- `([-_.a-zA-Z0-9]+)` 
	- 小括号里面就是匹配到的编码格式的名称
	- 比如utf-8

### 编码方式 
- encoding 经典定义

```python
#!/usr/bin/python3
#vim: set fileencoding=utf-8
```

- 第一句
  - 是告诉 shell 的
  - 用哪个二进制文件打开这个当前文件
- 第二句
  - 不但规定了 python3 解释运行源文件的编码格式是`utf-8`
  - 而且还设置了 vim 的对于此文件打开与保存的编码格式也是`utf-8`
- 如果我定义一个python解释器不认识的编码格式？
- 会如何？

### oeasy-8

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220215-1644932609084)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220215-1644932621183)

- 解释器感到很困惑
	- 哈哈哈
- 虽然注释不用被执行
	- 但是作用很大啊！
	- 除此之外注释还可以怎样用么？

### 搜索注释

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629073456147)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629073474197)

- 原来用的都是单行注释
- 现在有一种多行注释

### 多行注释

- 用三个双引号或者三个单引号就可以做多行注释
- 回忆一下 print 的时候三个引号可以原样输出

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220214-1644827779969)

- 现在三引号里面的东西就是注释
- 注释中说明了
  - 上面输入的是苹果数量
  - 下面是香蕉数量
- 虽然注释内容很长
- 但是不会影响程序的运行速度
- 只是增加可读性而已

## 总结

- 这次了解了注释
  - 注释是为了让程序更可读
  - 注释不会影响程序运行速度
- 注释分为两种
  - 单行的 
	- 以`#`开头
	- 不能是字符串当中的`#`
  - 多行的 
	- 三个`"`
	- 三个`'`
- 多行注释还有什么特殊功能么？🤔
- 下次再说！👋
