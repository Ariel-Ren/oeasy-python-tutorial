---
show: step
version: 1.0
enable_checker: true
---

# 列表 - 嵌套 embedded

## 回忆

- 这次我们了解了排序
- 排序是在原来的列表上做的
- 可以按照不同的方式排序
- 可以递增也可以逆序
- 排好序之后插入就更合理了 🤔
- 最重要的是列表里面还可以放列表

### 列表嵌套

- 列表的嵌套其实就是列表里面放了另一个列表

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210915-1631698136680)

- 中括号就是索引操作
- 取得第几个元素

### 降维

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210921-1632221168291)

- 本来 l 是一个 3\*3 的数组
- 对他进行了索引操作[0]
- 得到了这个二维数组的第一个元素
  - 一个一维数组[1, 2, 3]
  - 可以继续进行其他运算

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210921-1632221501057)

- 这样就可以再对 a[0]这个一维数组进行
  - 索引操作
  - 切片操作
- 这就是先索引然后再对一维数组进行操作
- 那我可以先切片吗？

### 切片操作

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220420-1650448632216)

- 二维列表先切片
- 得到的还是一个二维列表
  - 是按照行切出来的
- 再切片得到的还是二维列表
  - 还是按照行切出来的
- 可以对这个二维列表
  - 再进行切片或者索引的操作
- 这是不断把数组筛减或者降维的过程

### 列表嵌套

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631623493488)

- x 最开始是一个列表
  - 列表里面有一个列表
  - 内部列表有个元素是 0
- 然后 x 乘以 3
  - [[0],[0],[0]]
- x[0]是[0]
- 添加 1 之后是[0,1]
- 可是为什么 x[1]、x[2]都是  [0,1]呢？

### 观察

- x =[[0]]

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631623686937)

- x = x \* 3

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631623716306)

- x 是一个列表
	- x 列表里面有三个元素
	- 三个元素都是列表
	- 都引用同一个列表地址
	- 这个被引用列表的值是[0]

### 附加 append

- 关键的一步来了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631623810957)

- x[0].append(1)
	- x[0] 附加 append 了 1
	- x[0]、x[1]、x[2]指向同一位置
- 所以 x 就是
  - [[0, 1], [0, 1], [0, 1]]
- 但是如果我一开始初始化 x 的方式为
  - x = [[0], [0], [0]]呢？

### 结果

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211126-1637924664867)

- 这和刚才的这个完全不同啊？
- 为什么呢？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631623493488)

### 原因分析

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211126-1637924709657)

- 这个关于内存的细节有点意思啊
	- 列表里面什么类型都能放吗？
- 不但可以放列表
	- 还可以放字符还可以放字符串
- 那可以混着放点浮点数啥的么？

### 来试试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230471457)

- 列表项可以是不同类型的东西

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230508598)

- 那这样可以进行赋值么

### 赋值

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230563086)

- 像正常列表一样
- 两个列表变量引用 堆(heap) 中同一个地址
- 我想要两个列表引用不同地址
  - 虽然相同
  - 但得是两个不同地址
- 那这样的混合类型还可以排序么？

### 排序(sort)

- 数字和字符串无法比较大小

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220903-1662167695235)

- 所以排序失败
- 但如果都是相同类型呢？

### 嵌套排序

- 相同类型

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220903-1662169056568)

- 还是可以进行排序的
- 先去总结

### 总结

- 这次我们了解了列表的嵌套(embedded)
	- 列表项也可以是列表
	- 可以无限嵌套下去
- 这嵌套列表仍然可以做列表能做的事情
  - 插入
  - 删除
  - 运算
- 不过赋值的时候注意有几种情况
  - = 复制地址
  - 浅拷贝 拷贝元素内容
- 有浅拷贝还有深拷贝吗？🤔
- 下次再说 👋
