---
show: step
version: 1.0
enable_checker: true
---

# 各语言字符编码

## 回忆上次内容

- 上次回顾了字符编码的进化过程
  - ibm 曾经的 EBCDIC 有很多黑料
  - 7bits 的 ascii 是最后的胜利者
  - Extended ASCII 填满了后面的 128 个位置
- 这一填不要紧
  - 究竟是什么字符来填呢？
  - 法文、德文还是俄文？
  - ibm 又一拍脑袋就这么定了
- 这一占不要紧
	- 像法文、俄文这样的字符怎么放呢？🤔

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210226-1614342429395)

### 西欧字符

- 最先遇到问题的是西欧国家
	- 如何在计算机中使用法文字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651903979368)

- 美国最早的立国靠的还是富兰克林
	- 来法国找路易十五要的军事和经济支持
	- 现在美国字符集ascii里面没有法文字符的位置？
- 要是那场战争结果改写
	- 美利坚可能是法国殖民地

### 特拉法尔加海战

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220508-1652015561425)

- 如果当年法国拿破仑选用富尔顿的火轮船
	- 那特拉法尔加海战会被改写
	- 英国应该无法和法国在海上争霸
	- 最终世界语言是法语
	- 大家考的都是 TOFFL

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220508-1652015591882)

- 再往前英国就更不行了

### 征服者威廉

- 法兰克王国诺曼地区的公爵威廉
- 跨过英吉利海峡就成了英国国王的征服者威廉

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220508-1652016400041)

- 英国这个北高南低适合生存的岛屿
- 从来就不乏征服者

### 英伦

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220512-1652318426058)

- 伊比利亚、凯尔特、罗马、荷兰、丹麦、法国都曾征服英伦
- 英格兰岛的名字来自于盎格鲁
	- 当时是昂撒是凯尔特人搬得救兵
	- 假途灭虢占了这个南方平坦的宝岛
	- 说这是我们盎格鲁人的家
	- 盎格鲁岛人说的语言是盎格里史(English)
- 英国的文化本来就是多民族、宗教杂糅出来的一个混合体
	- 他不希望出现欧洲大陆出现强大的帝国
	- 那样就会威胁到岛上的安全
	- 他对于欧洲各国制衡之术
	- 又被后来的美国学去制衡整个欧亚大陆
- 不过说到底所有文化的开局都是从非洲走出来的
	- 最最开始都是从无机物偶然变成了有机物
	- 但是电子信息化到数字化是一个新的大环境
	- 法国、西班牙、荷兰这样的曾经的老牌帝国
	- 如何在计算机中建立自己的字符呢？

### 公司

- 需求是存在的
- 各个电脑公司分别来解决这个问题

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651883408330)

- 可以看出mac很注重数学符号

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651883269880)

- hp在扩展集中放置了拉丁字符
- 不过解决方法本身又会造成新的乱码
- 应该有个跨越公司的组织
- 来统一这个编码

### 8859

- 总部在瑞士的日内瓦的ISO组织负责跨国跨公司的标准化
- 在Dec所使用的编码格式的基础上发展出了8859字符集
- 为什么选择Dec的编码格式？
	- 因为VT220是当时的一代机皇

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651884034027)


- 扩展了字符集
- 根据dec公司的
	- 扩展ascii编码集
	- 前一半(0-127)还是没有动
		- 还是ascii
	- 后面(128-255)换成了西欧各国的拉丁字符
	- 这个编码叫做iso-8859-1
	- 也叫做latin-1

### 环境

- 当时的大环境是大型机逐渐没落
- 个人电脑兴起
- 微软成为ibm兼容机时代最大的获利者
- 从dos到windows
- 几乎一统天下

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651879032593)

- 而且也面临一个全球化的问题
- 如何表示各种语言的字符

### 选择

- 在iso的基础上

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651884252118)

- 微软实现并扩展了这个标准

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651884289282)

- 西欧的问题就这样解决了
- 北欧、南欧的字符集怎么办呢？

### 欧洲拉丁字符集

- 其他各国照猫画虎也仿照这个方式
- 都改后一半
- 8859 就这样分出 16 个部分
- 每种拼音符号都有自己的字符集

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210226-1614342965135)

- 突然能理解为什么拼音文字的欧洲分成好多国家
- 感谢我们的象形文字
- 不论如何同一个字符通过不同的编码方式
- 可以对应不同的特色拼音文字
- 不过这是以不兼容原来的 `扩展ascii` 编码方式为代价的
- 这也就是字符要设置encoding(编码方式)的由来

### 不同编码解释

- 如果同样一个字节\xa1

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651905311985)

- 在欧洲不同部分对应的字符是不同的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210930-1633013818143)

- 突然能理解为什么使用拼音文字的欧洲分成好多国家
- 这才直到回来感谢我们的象形文字！
- 不论如何同一个字节通过不同的解码方式
- 可以对应不同的特色拼音文字
- 不过这是以破坏原来的 `扩展ascii` 编码方式的统一性来实现的

### 编码方式

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651884836556)

- 计算机在显示文字的时候
- 不但要知道具体的字节内容是什么
- 而且要明确这些字节使用的编码方式是什么
- 解铃换需系铃人
- 否则就会出现乱码

### 缘起性空

- 7bit 没有满
  - 所以能容纳其它的字符集
  - 这样 ascii 就称为各种编码的基础
  - 英文字符在哪里都能用
  - 就更成了世界语言了
- 满招损 谦受益
  - 有之以为利 无之以为用
  - 性空才能缘起
  - 留白才有意境
  - 海纳百川 是因为够低

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220515-1652606842396)

- 可是世界上除了欧美的拉丁
  - 各种语言多了去了
  - 怎么办呢？

### 日语

- 日文的假名来自中国
- 是中文的拼音文字
- 只是假名都加在一起就至少 100+
- 128 根本不够用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210226-1614343858406)

- 更何况日文里面也可以用汉字
- 那是日本的文化人才会写的
- 所以光日文就妥妥超过了 1 个字节
- 需要 2 个字节
- 日本规格协会制定标准

### 韩文

- 韩文也是一种拼音文字
	- 基础字母有二十四个
	- 符号是朝鲜王朝第 4 代世宗大王创作的
	- 韩文有各种表音的基础偏旁部首
- 字是由表音符号组合而成的
	- 有各种间架结构
- 韩文名字
	- 宋仲基(송중기)
	- 金喜善(김희선)
	- 李英爱(이영애)
- 声母韵母拼写在一起算一个，共 554 个

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210226-1614344308560)

- 1 个字节不够
- 2 个字节才够

### 中国大陆地区

- 中国大陆地区最早使用 GB/T 2312-1980
	- 参考了比我们先进的日本的JIS 的字符集
	- 1980 年的指定的国标 (GuoBiao)
	- 1981 年 5 月 1 日开始使用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651885689069)

- GB2312 编码共收录汉字 6763 个
  - 其中一级汉字 3755 个
  - 二级汉字 3008 个
- 这么多字怎么排呢？

### 区位

- 01-09 区为特殊符号
	- 先把ascii的128个字符让出去
	- 然后在留有一些制表的字符
	- 还留了相当多的空余 
- 16-55 区为一级汉字
	- 按拼音排序
- 56-87 区为二级汉字
	- 按部首／笔画排序

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651885804816)

- 收录还了包括
  - 拉丁字母
  - 希腊字母
  - 日文平假名及片假名字母
  - 俄语西里尔字母
- 真的很全了
- 当时没有中文编码
- 这篇文档当时怎么打印出来的呢？

### 铅字

- 这篇标准本身制作过程中
	- 确实使用到了中文字符的模型
	- 应该不是铅字
	- 是激光照片
	- 用照片排版的方式
	- 制作了这样一个汉字数字化的编码方式的文档

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651889679175)

- 可是这gb2312
	- 具体怎么用呢？

### 应用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211004-1633338280023)

- 同时用 gb2312 编码和解码是没有问题的
- 台湾同胞又是怎么做的呢？

### 中国台湾地区

- BIG5 码
  - 收录的原则和次序首先是频率
  - 然后是笔画数
  - 然后是康熙字典
  - 是由 5 个公司制作的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211004-1633338342580)

- 同时用 BIG5 编码和解码也是没有问题的
	- 但是如果用BIG5编码 却用gb2312解码就会有问题
- 不过存储的内容在文件里
	- 系统不知道用什么解码时
	- 默认自动会用 gb2312 解码
	- 这就造成了自动乱码
- 没有个标准整合一下吗？

### GBK

- GBK 即汉字内码扩展规范
	- K 为汉语拼音 Kuo Zhan（扩展）中“扩”字的声母
	- 英文全称 Chinese Internal Code Specification

- 共收入 21886 个汉字和图形符号
	- GB 2312 中的全部汉字、非汉字符号
	- BIG5 中的全部汉字(繁体兼容 GBK1)
	- 与 ISO 10646 相应的国家标准 GB 13000 中的其它 CJK 汉字
	- 以上合计 20902 个汉字
	- 中日韩兼容(GBK2)
	- 其它汉字、部首、符号，共计 984 个
	- GBK 向下与 GB 2312 完全兼容，向上支持 ISO 10646
- 标准定了立刻就能用起来么？

### 过程

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651896795747)

- 凡事都有个过程
	- 95年定的gbk
	- 98年才逐渐推行开来
	- 从有这个内码
	- 到有字形码也经历了一个过程

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651896893908)

- 原来是分的
	- 后来合了起来

### 落地

- 当时电脑配件大多也是外国生产
	- IBM、微软、苹果、三星、日立、摩托等国外公司
	- 还有各种国内的攒ibm兼容机的公司
	- 在中国销售的电脑、手机、复印机
	- 就都得一律遵从汉字编码标准
	- 信息时代技术与经济全球化么


![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651913929710)

- 但是还是有问题

### 问题

- 虽然兼容了BIG5 中的全部汉字
	- 但是无法兼容编码
	- 用gb2312打开BIG5编码的文件还是乱码
	- 毕竟这两块有重合的部分

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651889307438)

- 如果兼容了BIG5编码
	- 就无法向前兼容gb2312
- 这无解了吗？
	- 时间自会给我们答案
	- 老天自有安排！

### 麻烦形成

- 但是如果用BIG5编码 
	- 却用gb2312解码就会有问题

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211004-1633338342580)

- 反之亦然

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211004-1633338216226)

- 我们用 gb2312 编码的文字
	- 用 gb2312 可以打开
	- 但是用 BIG5 打开就是乱码
	- 也需要转化
- 转化工具是有的
	- 能解决问题但很麻烦
	- 大量的输入输出编码解码的问题
	- 令人头大

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220507-1651888237559)

- 反方向的问题其实也存在
- 确实麻烦

### 解决办法

- 麻烦的地方正是机会所在

- 当时如果日文游戏或者台湾地区的游戏不能玩
	- 可能是因为字符编码格式不一致
	- 可以用南极星调整字符编码格式
	- 把不同编码格式进行转化
	- 把字节按照正确的方式进行解码

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210226-1614345329218)

## 总结

- 这次回顾了各国家和地区字符编码的分别的进化过程
	- 0-127 个字符
	- 还都是兼容 ascii 编码
- 世界各地编码分布
  - 拉丁字符扩展 ascii 共 16 种
	- 无法同时显示俄文和法文
  - 中日韩各有各的编码格式
    - 无法同时看中文简体和中文繁体
- 如果有一种编码所有的字符都能编进去就好了
  - 中日韩欧洲拉丁拼音等等等都包括
- 能有么？🤔
- 我们下次再说！👋
